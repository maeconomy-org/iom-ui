# Deployment Environment Variables
# Copy this file to .env and configure for your VM

# REQUIRED VARIABLES (must be configured)
# =============================================================================

# Container Configuration
GH_ORG=maeconomy-org
APP_NAME=iom-ui
NODE_ENV=production
IMAGE_TAG=latest
PORT=3000

# API Configuration (REQUIRED - different per VM)
BASE_API_URL=https://your-api-server:9443
UUID_API_URL=https://your-api-server:8443

# Certificate Configuration (REQUIRED for mTLS)
CERTIFICATE_PATH="./certs/your-certificate.pem"
CERTIFICATE_PASSWORD="your-certificate-password"

# HERE Maps API Key (REQUIRED for map features)
HERE_API_KEY=your-here-api-key

# Redis Configuration (REQUIRED for Docker Compose)
REDIS_PASSWORD=your-secure-redis-password

# =============================================================================
# OPTIONAL VARIABLES (with sensible defaults)
# =============================================================================

# App Branding (customize per deployment)
# APP_NAME="Internet of Materials"
# APP_DESCRIPTION="Material Management System"
# APP_ACRONYM="IoM"
# CONTACT_URL="https://example.com/contact"
# SUPPORT_EMAIL="support@internetofmaterials.com"

# Security & TLS Configuration
VERIFY_CERTIFICATES=false
ALLOW_INSECURE_FALLBACK=true

# Import Limits & Performance
# MAX_FILE_SIZE_MB=100
# MAX_IMPORT_PAYLOAD_MB=100
# MAX_OBJECTS_PER_IMPORT=50000
# MAX_CONCURRENT_JOBS_PER_USER=5

# Import Performance Tuning (optimized defaults)
# API_BATCH_SIZE=25                   # Objects per API request (smaller = faster start)
# PARALLEL_REQUESTS=15                # Concurrent requests (higher = faster overall)
# API_REQUEST_DELAY=50                # Delay between requests (ms)

# Advanced Import Tuning
# MAX_BATCH_SIZE=100                  # Maximum batch size for very large imports
# MIN_BATCH_SIZE=10                   # Minimum batch size for small imports
# ADAPTIVE_BATCHING=true              # Enable adaptive batch sizing

# Rate Limiting (soft limits with warnings)
# RATE_LIMIT_WINDOW_MINUTES=10        # Rate limit window
# RATE_LIMIT_MAX_REQUESTS=20          # Max requests per window
# RATE_LIMIT_WARNING_THRESHOLD=15     # Warning threshold

# Redis Configuration
# REDIS_URL=redis://redis:6379        # Use service name in Docker
# REDIS_JOB_TTL_HOURS=24             # Job data retention (hours)
# REDIS_CHUNK_TTL_HOURS=6            # Chunk data retention (hours)

# Logging & Monitoring
# LOG_LEVEL=info                      # debug, info, warn, error
# LOG_DESTINATIONS=console,sentry     # Where to send logs
# LOG_CONSOLE=true                    # Enable console logging
# LOG_SENTRY=true                     # Enable Sentry logging
# LOG_SDK=false                       # Enable SDK logging

# Health UI Configuration
# HEALTH_UI_ENABLED=true              # Enable /health monitoring dashboard
# HEALTH_UI_ALLOWED_CERTS=fingerprint1,serial2  # Comma-separated cert fingerprints/serials

# Sentry Configuration (GDPR compliant - use EU region)
SENTRY_DSN=https://your-key@o123.ingest.de.sentry.io/456
SENTRY_ORG=your-organization-slug
SENTRY_PROJECT=your-project-name
SENTRY_ENABLED=false
SENTRY_RELEASE=1.0.0

# =============================================================================
# PERFORMANCE TUNING GUIDE
# =============================================================================
# For high-volume imports, consider:
# - API_BATCH_SIZE=15-30 (smaller batches start faster)
# - PARALLEL_REQUESTS=10-20 (more concurrent requests)
# - API_REQUEST_DELAY=25-100 (balance speed vs API load)
# - MAX_OBJECTS_PER_IMPORT=100000 (for large datasets)
#
# For development/testing:
# - LOG_LEVEL=debug
# - HEALTH_UI_ENABLED=true
# - VERIFY_CERTIFICATES=false